<!DOCTYPE html>
<html>
    <head>
        <title>Interpolator</title>
        <meta charset="utf-8" />
        <style>

body {
    padding: 10px;
}

input, span {
    font-family: 'Courier New', Courier, monospace;
}

        </style>
    </head>
    <body>
        <div>First color: <input id="color-1" /></div>
        <div>Second color: <input id="color-2" /></div>
        <div>Interpolated: <span id="interpolated"></span></div>
        <div>1/3 interpolated: <span id="1/3-interpolated"></span></div>
        <div>2/5 interpolated: <span id="2/5-interpolated"></span></div>
        <div>Next in sequence: <span id="next"></span></div>
        <script>

'use strict';function printError(e,c='red'){let x=String(e instanceof Error?('stack' in e?e.stack:e):e).replaceAll(/file:\/\/\/media\/fuse\/drivefs-[0-9a-f]+\/root\/code\//g,'').replaceAll('about:srcdoc','index.ts');alert(x);for (let m of x.matchAll(/data:text\/javascript;base64,([a-zA-Z0-9+/=]+)/g)){let f=atob(m[1]);x=x.replaceAll(m[0],f.slice(2,f.indexOf('*/')))}if(document.readyState!=='complete'){alert(x);return;}document.querySelectorAll('body > *').forEach(x=>x.remove());let t=document.createElement('pre');t.style.color=c;t.style.paddingLeft='15px';t.style.paddingBottom='15px';t.style.fontFamily="'Courier New',Courier,monospace";t.style.fontSize='14px';t.textContent=x;document.body.appendChild(t);document.body.style.overflowY='auto';let l=setInterval(()=>{});for(let i=1;i<=l;i++)clearInterval(i);l=requestAnimationFrame(()=>{});for(let i=1;i<=l;i++)cancelAnimationFrame(i);onkeydown=()=>{};onkeyup=()=>{};onmousemove=()=>{};onmousedown=()=>{};onmouseup=()=>{};}window.addEventListener('error',e=>{printError(e.error);return true;});window.addEventListener('unhandledrejection',e=>{e.preventDefault();printError(e.reason);});

let color1 = document.getElementById('color-1');
let color2 = document.getElementById('color-2');
let newColor = document.getElementById('interpolated');
let oneThirdColor = document.getElementById('1/3-interpolated');
let twoFifthsColor = document.getElementById('2/5-interpolated');
let nextColor = document.getElementById('next');

function parse(color) {
    if (color.startsWith('#')) {
        color = color.slice(1);
    }
    if (color.length !== 6) {
        return null;
    }
    return [
        parseInt(color.slice(0, 2), 16),
        parseInt(color.slice(2, 4), 16),
        parseInt(color.slice(4, 6), 16),
    ];
}

function update() {
    let a = parse(color1.value);
    let b = parse(color2.value);
    if (a === null || b === null) {
        return;
    }
    newColor.textContent = '#' + a.map((x, i) => Math.round((x + b[i])/2)).map(x => x.toString(16).padStart(2, '0')).join('');
    oneThirdColor.textContent = '#' + a.map((x, i) => Math.round(x + (b[i] - x)/3)).map(x => x.toString(16).padStart(2, '0')).join('');
    twoFifthsColor.textContent = '#' + a.map((x, i) => Math.round(x + (b[i] - x)*2/5)).map(x => x.toString(16).padStart(2, '0')).join('');
    nextColor.textContent = '#' + a.map((x, i) => x + (b[i] - x)*2).map(x => x < 0 ? 0 : (x > 255 ? 255 : x)).map(x => x.toString(16).padStart(2, '0')).join('');
}

color1.oninput = update;
color2.oninput = update;

        </script>
    </body>
</html>

